<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>layui</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="themes/xadmin/lib/layui/css/layui.css" />
		<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
		<style type="text/css">
			.downpanel .layui-select-title span {
				line-height: 38px;
			}
			/*继承父类颜色*/
			
			.downpanel dl dd:hover {
				background-color: inherit;
			}
		</style>
		<style type="text/css">
			body {
				height: 100%;
				width: 100%;
				background-size: cover;
				margin: 0 auto;
			}
			
			td {
				font-size: 12px !important;
			}
			
			.layui-form-checkbox span {
				height: 30px;
			}
			
			.layui-field-title {
				border-top: 1px solid white;
			}
			
			table {
				width: 100% !important;
			}
		</style>

	</head>

	<body>
		<button id="xxx">出现下拉菜单</button>
		<button id="yyy">出现下拉菜单</button>
		<br>
		<br>
		<br>
		<br>
		<button id="zzz">出现下拉菜单</button>
		
		<!-- jquery:1.0.0 anonymous source:classpath:META-INF.resources.javax.web.suyan4j.vendors.jquery.jquery.js -->
		<script type="text/javascript" src="http://127.0.0.1:8020/Suyan4j/javax/web/suyan4j/vendors/jquery/jquery.js"></script>
		<!-- layui:1.0.0 anonymous source:classpath:META-INF.resources.themes.xadmin.lib.layui.layui.js -->
		<script type="text/javascript" src="http://127.0.0.1:8020/Suyan4j/themes/xadmin/lib/layui/layui.js"></script>
		<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
		<script type="text/javascript">
			layui.use(['element', 'tree', 'layer', 'form', 'upload'], function() {
				var $ = layui.jquery;
				var tree = layui.tree;
				
//				$(".downpanel").on("click", ".layui-select-title", function(e) {
//					$(".layui-form-select").not($(this).parents(".layui-form-select")).removeClass("layui-form-selected");
//					$(this).parents(".downpanel").toggleClass("layui-form-selected");
//					layui.stope(e);
//				});
				$("#zzz").click(function(){
					$(this).after("<div id='classtree' class='layui-anim layui-anim-upbit' style='border-width: 1px;border-style: solid;border-radius: 2px;border-color: #e6e6e6;width: auto;'></div>");
					tree({
						elem: "#classtree",
						nodes: [{
							name: '常用文件夹',
							id: 1,
							alias: 'changyong',
							children: [{
								name: '所有未读',
								id: 11,
								href: 'http://www.layui.com/',
								alias: 'weidu'
							}, {
								name: '置顶邮件',
								id: 12
							}, {
								name: '标签邮件',
								id: 13
							}]
						}, {
							name: '我的邮箱',
							id: 2,
							spread: true,
							children: [{
								name: 'QQ邮箱',
								id: 21,
								spread: true,
								children: [{
									name: '收件箱',
									id: 211,
									children: [{
										name: '所有未读',
										id: 2111
									}, {
										name: '置顶邮件',
										id: 2112
									}, {
										name: '标签邮件',
										id: 2113
									}]
								}, {
									name: '已发出的邮件',
									id: 212
								}, {
									name: '垃圾邮件',
									id: 213
								}]
							}, {
								name: '阿里云邮',
								id: 22,
								children: [{
									name: '收件箱',
									id: 221
								}, {
									name: '已发出的邮件',
									id: 222
								}, {
									name: '垃圾邮件',
									id: 223
								}]
							}]
						}],
						click: function(node) {
							var $select = $($(this)[0].elem).parents(".layui-form-select");
							$select.removeClass("layui-form-selected").find(".layui-select-title span").html(node.name).end().find("input:hidden[name='selectID']").val(node.id);
						}
					});
				});
				$(".downpanel").on("click", "dl i", function(e) {
					layui.stope(e);
				});
				$(document).on("click", function(e) {
					$(".layui-form-select").removeClass("layui-form-selected");
				});

			});
		</script>
	</body>

</html>
</body>

</html>